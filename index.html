<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Red Tails Seat Shuffler</title>
<style>
  :root { --gap: 8px; }
  body {
    font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    margin: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    z-index: 1;
    /* Watermark background */
    background: none;
  }

  body::before {
    content: "";
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    z-index: 0;
    background: url('spitfire-watermark.png') no-repeat center center;
    background-size: 60vw auto;
    opacity: 0.5;
    pointer-events: none;
  }

  main {
    position: relative;
    z-index: 1;
    background: rgba(255,255,255,0.85);
    border-radius: 12px;
    padding: 2rem 3rem;
    box-shadow: 0 2px 16px rgba(0,0,0,0.08);
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  h1 { font-size: 1.25rem; margin-bottom: 10px; }
  .grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--gap); max-width: 480px; }
  .grid > div { padding: 6px; border: 1px solid #ddd; border-radius: 6px; text-align: center; }
  .head { font-weight: 700; background: #f7f7f7; }
  input[type="text"] { width: 100%; border: none; outline: none; text-align: center; font: inherit; }
  .controls { display: flex; gap: var(--gap); flex-wrap: wrap; margin-top: 14px; }
  button, label > span.btn { padding: 8px 12px; border: 1px solid #ccc; border-radius: 8px; cursor: pointer; background: #fff; }
  button:disabled { opacity: 0.6; cursor: not-allowed; }
  #status { margin-top: 10px; color: #666; white-space: pre-line; }
  .cursed { color: #8b0000; font-weight: 700; }
  .file-input { display: none; }
</style>
</head>
<body>

<main>
  <h1>Red Tails Seat Shuffler</h1>

  <div class="grid" id="table">
    <div class="head">Name / Seat</div>
    <div class="head">Shuffled POSITION (1â€“16)</div>
  </div>

  <div class="controls">
    <button id="shuffleBtn">Shuffle</button>
    <button id="downloadBtn">Download CSV</button>

    <input id="csvFile" class="file-input" type="file" accept=".csv" />
    <label for="csvFile"><span class="btn">Load CSV</span></label>

    <label style="display:flex; align-items:center; gap:6px;">
      <input type="checkbox" id="soundToggle" checked />
      Sound
    </label>
  </div>

  <div id="status">Left: names. Right: each name's POSITION. 
  Seat 5 shows CURSED SEAT (CSV stays numeric 5).</div>

  <audio id="player" src="randomizer.ogg" preload="auto"></audio>
</main>

<script>
const N = 16;
const table = document.getElementById('table');
const nameInputs = [];
const posCells = [];

// Add seat rows dynamically
for (let i = 0; i < N; i++) {
  const nameCell = document.createElement('div');
  const inp = document.createElement('input');
  inp.type = 'text';
  inp.value = String(i+1);
  inp.addEventListener('input', () => {
    // Optionally update names array if needed
  });
  nameCell.appendChild(inp);
  table.appendChild(nameCell);
  nameInputs.push(inp);

  const posCell = document.createElement('div');
  posCell.textContent = String(i+1);
  table.appendChild(posCell);
  posCells.push(posCell);
}

// ...existing code...
</script>
</body>
</html>
